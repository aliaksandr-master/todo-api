{
    "GET session/user": {
        "response": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    },
    "POST session/user": {
        "request": {
            "username:string{3,50}": "required",
            "password:string{6,50}": "required",
            "remember:boolean": "optional"
        },
        "response": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    },
    "DELETE session/user": {
        "response": [
            "status:boolean"
        ]
    },
    "GET todo/$todo_id/item": {
        "handler": "todo#item",
        "request": {
            "$todo_id:decimal": "required"
        },
        "response < 255": [
            "id:decimal",
            "todo_id:decimal",
            "sort_order:decimal",
            "name:string",
            "date_create:string",
            "is_active:boolean"
        ]
    },
    "GET todo/$todo_id/item/$id": {
        "request": {
            "$todo_id:decimal": "required",
            "$id:decimal": "required"
        },
        "response": [
            "id:decimal",
            "name:string",
            "date_create:string",
            "sort_order:decimal",
            "is_active:boolean"
        ]
    },
    "POST todo/$todo_id/item": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$todo_id:decimal": "required",
            "name:string": "optional",
            "sort_order:decimal": "optional",
            "is_active:boolean": "optional"
        },
        "response": [
            "id:decimal",
            "todo_id:decimal",
            "sort_order:decimal",
            "name:string",
            "date_create:string",
            "is_active:boolean"
        ]
    },
    "PUT todo/$todo_id/item/$id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$todo_id:decimal": "required",
            "$id:decimal": "required",
            "name:string": "optional",
            "sort_order:decimal": "optional",
            "is_active:boolean": "optional"
        },
        "response": [
            "id:decimal",
            "todo_id:decimal",
            "sort_order:decimal",
            "name:string",
            "date_create:string",
            "is_active:boolean"
        ]
    },
    "DELETE todo/$todo_id/item/$id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$todo_id:decimal": "required",
            "$id:decimal": "required"
        },
        "response": [
            "status:boolean"
        ]
    },
    "GET todo": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "response < 255": [
            "id:decimal",
            "link:string",
            "name:string",
            "is_shared:boolean",
            "sort_order:decimal"
        ]
    },
    "GET todo/$id": {
        "request": {
            "$id:decimal": "required"
        },
        "response": [
            "id:decimal",
            "link:string",
            "name:string",
            "is_shared:boolean",
            "sort_order:decimal"
        ]
    },
    "POST todo": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "name:string": "optional",
            "is_shared:boolean": "optional",
            "sort_order:decimal": "optional"
        },
        "response": [
            "id:decimal",
            "link:string",
            "name:string",
            "is_shared:boolean",
            "sort_order:decimal"
        ]
    },
    "PUT todo/$id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$id:decimal": "required",
            "name:string{1,40}": "optional",
            "is_shared:boolean": "optional",
            "sort_order:decimal{1,11}": "optional"
        },
        "response": [
            "id:decimal",
            "link:string",
            "name:string",
            "is_shared:boolean",
            "sort_order:decimal"
        ]
    },
    "DELETE todo/$todo_id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$todo_id:decimal{1,11}": "required"
        },
        "response": [
            "status:boolean"
        ]
    },
    "GET user": {
        "response < 255": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    },
    "GET user/$id": {
        "request": {
            "$id:decimal": "required"
        },
        "response": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    },
    "DELETE user/$id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$id:decimal": "required"
        },
        "response": [
            "status:boolean"
        ]
    },
    "PUT user/$id": {
        "access": {
            "need_login": true,
            "only_owner": true
        },
        "request": {
            "$id:decimal": "optional|exists",
            "username:string": "optional|need['password_old']|unique",
            "email:string": "required|valid_email|unique|need['password_old']",
            "password_old:string": "optional|valid_password",
            "password_new:string": "optional|matches['password_new_confirm']|need['password_old']",
            "password_new_confirm:string": "optional|matches['password_new']|need['password_old']"
        },
        "response": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    },
    "POST user": {
        "request": {
            "username:string{3,50}": "required|alpha_dash|unique",
            "email:string": "required|valid_email|unique",
            "password:string{6,50}": "required|matches['confirm_password']",
            "confirm_password:string{6,50}": "required|matches['password']"
        },
        "response": [
            "id:decimal",
            "username:string",
            "email:string"
        ]
    }
}