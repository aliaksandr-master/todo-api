extends ../../inc/layout-empty
block container
	script
		!= 'window.MY_ROOT = "/api-tester/";'
		!= 'window.API_ROOT = "/api/";'
		!= 'window.API_JSON = ' + JSON.stringify(specsSrc) + ';'
		!= 'window.API_ROUTES_JSON = ' + JSON.stringify(routes) + ';'
	div(style="margin: 15px 15px 0;")
		.row#api-tester
			.col-md-8
				#form-head.clearfix
					.form-control-wr
						select#form-route.form-control
					.form-control-wr
						input#form-route-method.form-control(type="text",placeholder='http method')
					.form-control-wr
						input#form-route-url.form-control(type="text", placeholder='request url')
					.form-control-wr
						input#form-request-format.form-control(type="text", placeholder='request data format', value="JSON")
					.form-control-wr
						input#form-request-query.form-control(type="text", placeholder='additional query', value="_debug=debug")


				form#form
					#form-content
					.form-submit.clearfix
						button#form-submit.btn.btn-warning.pull-left(type="submit") Submit
						button.btn.btn-default.putData.pull-right Invalid
						button.btn.btn-default.putData.pull-right.-valid Valid
						button.btn.btn-default.putData.pull-right.-prev Prev

				#errors

				.panel.panel-default
					.panel-heading Respoonse
					pre#response.panel-body(style='padding: 5px; border: none; background: none;')

			.col-md-4

				.panel.panel-default
					.panel-heading Info
					#sendInfo.panel-body

				.panel.panel-default
					.panel-heading Request <b>Data</b> (formatted)
					#requestParams.panel-body

				.panel.panel-default
					.panel-heading Response <b>Headers</b>
					#responseHeadersNonFormat.panel-body

				.panel.panel-default
					.panel-heading Request <b>Data</b>
					#requestDataNonFormat.panel-body

				.panel.panel-default
					.panel-heading Response <b>Data</b>
					#response.panel-body


block scripts
	script(type="text/x-handlebars-template",data-src="/panel.hbs")!= read('/static/templates/panel.hbs')
	script(type="text/x-handlebars-template",data-src="/form/cover.hbs")!= read('/static/templates/form/cover.hbs')
	script(type="text/x-handlebars-template",data-src="/form/field.hbs")!= read('/static/templates/form/field.hbs')
	script(type="text/x-handlebars-template",data-src="/form/select.hbs")!= read('/static/templates/form/select.hbs')
	script(type="text/x-handlebars-template",data-src="/form/text.hbs")!= read('/static/templates/form/text.hbs')
	script(type="text/x-handlebars-template",data-src="/form/toggle.hbs")!= read('/static/templates/form/toggle.hbs')
	script.
		require(['api-tester'], function (run) {
			run();
		});
